function ScrollableTable (tableEl, tableHeight, tableWidth) {    this.initIEengine = function () {        this.containerEl.style.overflowY = 'auto';        if (this.tableEl.parentElement.clientHeight - this.tableEl.offsetHeight < 0) {            this.tableEl.style.width = this.newWidth - this.scrollWidth +'px';        } else {            this.containerEl.style.overflowY = 'hidden';            this.tableEl.style.width = this.newWidth +'px';        }        this.tableEl.style.width = '100%';	// AGREGADO        if (this.thead) {            var trs = this.thead.getElementsByTagName('tr');            for (x=0; x<trs.length; x++) {                trs[x].style.position ='relative';                trs[x].style.setExpression("top",  "this.parentElement.parentElement.parentElement.scrollTop + 'px'");            }        }        if (this.tfoot) {            var trs = this.tfoot.getElementsByTagName('tr');            for (x=0; x<trs.length; x++) {                trs[x].style.position ='relative';                trs[x].style.setExpression("bottom",  "(this.parentElement.parentElement.offsetHeight - this.parentElement.parentElement.parentElement.clientHeight - this.parentElement.parentElement.parentElement.scrollTop) + 'px'");            }        }	   // CAMBIADO        //eval("window.attachEvent('onresize', function () { document.getElementById('" + this.tableEl.id + "').style.visibility = 'hidden'; document.getElementById('" + this.tableEl.id + "').style.visibility = 'visible'; } )");        var f = "function () {";        f += "var tables = document.getElementsByTagName('table');";        f += "for (var i = 0; i < tables.length; i++) {";        f += 	"if (tables[i].id == '" + this.tableEl.id + "') {";        f += 		"tables[i].parentNode.style.Height = (tables[i].parentNode.parentNode.offsetHeight - 18) + 'px';";        f += 	"}";        f += "}";        f += "}";        eval("window.attachEvent('onresize', " + f + ")");    };    this.initFFengine = function () {        this.containerEl.style.overflow = 'hidden';        //this.tableEl.style.width = this.newWidth + 'px';        this.tableEl.style.width = '100%';	// CAMBIADO        var headHeight = (this.thead) ? this.thead.clientHeight : 0;        var footHeight = (this.tfoot) ? this.tfoot.clientHeight : 0;        var bodyHeight = this.tbody.clientHeight;        var trs = this.tbody.getElementsByTagName('tr');        if (bodyHeight >= (this.newHeight - (headHeight + footHeight))) {            this.tbody.style.overflow = '-moz-scrollbars-vertical';            for (x=0; x<trs.length; x++) {                var tds = trs[x].getElementsByTagName('td');                tds[tds.length-1].style.paddingRight += this.scrollWidth + 'px';            }        } else {            this.tbody.style.overflow = '-moz-scrollbars-none';        }        var cellSpacing = (this.tableEl.offsetHeight - (this.tbody.clientHeight + headHeight + footHeight)) / 4;        this.tbody.style.height = (this.newHeight - (headHeight + cellSpacing * 2) - (footHeight + cellSpacing * 2)) + 'px';	   // AGREGADO        var f = "function () {";        f += "var tables = document.getElementsByTagName('table');";        f += "for (var i = 0; i < tables.length; i++) {";        f += 	"if (tables[i].id == '" + this.tableEl.id + "') {";        f += 	"			var divObj = tables[i].parentNode;";        f += 	"			while (divObj.tagName.toUpperCase() != 'DIV' || divObj.id == '') {";        f += 	"				divObj = divObj.parentNode;";        f += 	"			}";        f +=		"			var xPos = 0;";        f +=		"			var yPos = 0;";        f +=		"			var element = divObj;";        f +=		"			do {";        f +=		"				xPos += element.offsetLeft;";        f +=		"				yPos += element.offsetTop;";        f +=		"				element = element.parentNode;";        f +=		"			} while (element.parentNode);	";        f +=		"			var porcentaje = divObj.parentNode.height.substring(0, divObj.parentNode.height.length - 1);";        f +=		"			var alto = window.innerHeight - document.getElementById('TablaCabezal').offsetHeight - 35;";        f +=		"			alto = (alto * parseInt(porcentaje)) / 100;";        f += 	"			tables[i].parentNode.style.height = alto + 'px';";        f += 	"}";        f += "}";        f += "}";        eval("window.addEventListener('resize', " + f + ", false)");    };    this.tableEl = tableEl;    this.scrollWidth = 16;    this.originalHeight = this.tableEl.clientHeight;    this.originalWidth = this.tableEl.clientWidth;    this.newHeight = parseInt(tableHeight);    this.newWidth = tableWidth ? parseInt(tableWidth) : this.originalWidth;    this.tableEl.style.height = 'auto';    this.tableEl.removeAttribute('height');    this.containerEl = this.tableEl.parentNode.insertBefore(document.createElement('div'), this.tableEl);    this.containerEl.appendChild(this.tableEl);    this.containerEl.style.height = this.newHeight + 'px';    //this.containerEl.style.width = this.newWidth + 'px';    this.containerEl.style.width = '100%';        var thead = this.tableEl.getElementsByTagName('thead');    this.thead = (thead[0]) ? thead[0] : null;    var tfoot = this.tableEl.getElementsByTagName('tfoot');    this.tfoot = (tfoot[0]) ? tfoot[0] : null;    var tbody = this.tableEl.getElementsByTagName('tbody');    this.tbody = (tbody[0]) ? tbody[0] : null;    if (!this.tbody) return;    if (document.all && document.getElementById && !window.opera) this.initIEengine();    if (!document.all && document.getElementById && !window.opera) this.initFFengine();}