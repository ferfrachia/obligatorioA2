var MTclaseOpcion = "opcionMTree";var MTclaseMenu = "opcionSMTree";var MTreeAltoItem = 20; var MTelemOc = null;var MTelemVis = null;var MTAnimado = false;var MTPasos = 20;var MTIntervalo = 50;var opcionSel = null; var menuSel = null; var clickOpc = ""; function tamSMenu(obj) {	var miTam = 0;		if(obj.childNodes) {		var renglones = obj.getElementsByTagName("li").length;		miTam = renglones * MTreeAltoItem;	}	if(miTam==0) {		return null;	} else	{	return miTam;	}}function tamObjeto(idObj, obj, alto, creciendo) {//	alert(idObj +" - " +obj.id +" - " + alto + " - "  + creciendo)	if(idObj == obj.id) {		obj.style.height = alto + 'px'; 		//   alert("1")	} else {	 		//   alert("2")		if(creciendo) {				//   alert("3")			document.getElementById(idObj).style.height = "0px"; 			document.getElementById(idObj).style.display = "block"; 			obj.style.height = "0px";			obj.style.display = "block";		} else {			document.getElementById(idObj).style.display = "none"; 			obj.style.display = "none";		}	}}function mostrarElemento(elem, tam) {	//   alert("ME: " + elem.id + " -> " + tam);	var miTam = "";	(tam == null) ? miTam = "100%" : miTam = tam + "px"; 		MTelemVis = elem	if ((MTelemVis.style.display != "none" && MTelemVis.style.display != "") || !MTAnimado || elem.className.indexOf("submenuTree")== -1) {		tam = null;	}	if(tam) {			tamObjeto(MTelemVis.id, MTelemVis, 1, true);			MTelemVis.style.display = "block";			var pasos = MTPasos;			var porcion = parseInt(tam/pasos);			var intervalo = MTIntervalo;			for(i=1; i<=pasos; i++) {				setTimeout ( 'tamObjeto("'+ MTelemVis.id + '", MTelemVis, ' + (i*porcion) + ', true); ', i*intervalo); 			}	} else {			//   alert("Cambio:" + MTelemVis.tagName )			MTelemVis.style.borderCollapse = "";//			MTelemVis.style.border = "1px solid #FF0000;";			MTelemVis.style.display = "block";			MTelemVis.style.height = miTam;			MTelemVis.parentNode.style.height = "100%";	}}function ocultarElemento(elem, tam) {	MTelemOc = elem	if ((MTelemVis.style.display != "none" && MTelemVis.style.display != "") || !MTAnimado || elem.className.indexOf("submenuTree")== -1) {		tam = null;	}	if(tam) {		var pasos = MTpasos;		var porcion = parseInt(tam/pasos);		var intervalo = MTIntervalo;		for(i=0; i<pasos; i++) {			setTimeout ( 'MTelemOc.style.height = "' + (tam-((i+1)*porcion)+1) + 'px"; ', i*intervalo+1); 		}		setTimeout ( 'MTelemOc.style.display = "none"; ', pasos*intervalo); 			} else {		MTelemOc.style.display = "none";	}} function opcionClick(opcion){	(menuSel) ? clickOpc = menuSel.Menu.id : clickOpc = "";	var seccion = document.getElementById("seccMenu_" + opcion.id)	if(seccion) {		var esOtraOpcion = true;		if(opcionSel) {			opcionSel.Opcion.className = opcionSel.Opcion.className.replace("Ovr", "");			ocultarElemento(opcionSel.Datos);			esOtraOpcion = ( opcionSel.Opcion.id != opcion.id)		} else		{	opcionSel = new Object;		}		if(esOtraOpcion) {				// Seteo la nueva opcion			opcion.className = opcion.className + "Ovr";			(menuSel) ? opcionSel.idMenu = menuSel.Menu.id : opcionSel.idMenu = "";			opcionSel.Opcion = opcion;			opcionSel.Datos = seccion;			mostrarElemento(seccion)		} else		{	opcionSel = null		}	}}function getFirstItemId(menu){	var retorno = ""; 	if(menu.childNodes) {		//retorno = menu.childNodes[0].id;		retorno = menu.getElementsByTagName("li")[0].id;	}	return retorno}function clickMenu(menu) {	var sMenu = document.getElementById("sMenu_" + menu.id);	//   alert(sMenu.id)	if(sMenu) {		var esOtraOpcion = true;		if(menuSel) { 			menuSel.Menu.className = menuSel.Menu.className.replace("Ovr", "");			esOtraOpcion = ( menuSel.Menu.id != menu.id)			if(! esOtraOpcion){				ocultarElemento(menuSel.Datos, tamSMenu(menuSel.Datos) );				if(opcionSel) {				opcionSel.Opcion.className = opcionSel.Opcion.className.replace("Ovr", "");				ocultarElemento(opcionSel.Datos);				opcionSel = null;				}			}		} else		{	menuSel = new Object;		}		if(esOtraOpcion) {			// Seteo la nueva opcion			menu.className = menu.className  + "Ovr";			 (opcionSel) ? menuSel.idOpcion = opcionSel.Opcion.id : menuSel.idOpcion = "";			menuSel.Menu= menu;			menuSel.Datos = sMenu;			mostrarElemento(sMenu, tamSMenu(sMenu) );			if(clickOpc == "") {				//   alert("MenuSetcClick -> " + sMenu.id)				menuSetClick("",getFirstItemId(sMenu));			}		} else		{	menuSel = null		}	}	clickOpc = "";}function abrirMenu(menu) {	// Tengo que incluir si (existe una seccion con este id)	if (menuSel) {		if(clickOpc == menuSel.Menu.id && menu.id == menuSel.Menu.id ) {			clickOpc = "";		} else {			//   alert("ClickMenu2 -> " + menu.id)			clickMenu(menu)			}	} else	{	//   alert("ClickMenu -> " + menu.id)		clickMenu(menu)	}}function abrirOpcion(opcion) {	if(menuSel) { 		menuSel.Menu.className = menuSel.Menu.className.replace("Ovr", "");		menusSel = null;	}	opcionClick(opcion);	clickOpc = "";}function clickSubMenu(idMenu) {	var smenu = document.getElementById(idMenu)	if(smenu) {	//   alert(idMenu + " -> " + smenu.className)		if(smenu.className.indexOf(MTclaseOpcion)> -1) {			//   alert(smenu.className + " AO -> " )			abrirOpcion(smenu)		} else {			//   alert(smenu.className + " AM -> " )			abrirMenu(smenu)		}	}}function clickOpcion(idOpcion) {	var opcion = document.getElementById(idOpcion)	if(opcion) {		opcionClick(opcion)	} }function menuSetClick(idMenu,idOpcion) {//   alert(idMenu + "->" + idOpcion)	if(idMenu != "") clickSubMenu(idMenu);	if(idOpcion != "") clickOpcion(idOpcion);}